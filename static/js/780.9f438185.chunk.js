"use strict";(self.webpackChunk_1_first=self.webpackChunk_1_first||[]).push([[780],{4780:function(s,e,t){t.r(e),t.d(e,{default:function(){return E}});var i=t(8683),o=t(5671),r=t(3144),n=t(136),a=t(5716),l=t(2791),c=t(364),d=t(6871),u=t(7781),p=t(6868),f=t(1103),h=t(704),m=t(6139),x=t(5304),j=t(9231),v="MyPosts_postsBlock__TejCu",b="MyPosts_posts__F6B5M",_="Post_item__f5Md-",P="Post_deleteButton__EwKct",g=t(184),k=function(s){return(0,g.jsxs)("div",{className:_,children:[(0,g.jsx)("img",{src:"https://i.pinimg.com/600x315/1e/d3/0d/1ed30d98f49be532ae58c62f33677b16.jpg",alt:"ava"}),s.message,(0,g.jsx)("div",{children:(0,g.jsx)("span",{children:s.like>1?s.like+" likes":s.like+" like"})}),(0,g.jsx)("span",{className:P,onClick:function(){s.deletePost(s.id)},children:"Delete"})]})},I=(0,x.DT)(10),N=l.memo((function(s){var e=s.posts.map((function(e){return(0,g.jsx)(k,{message:e.name,like:e.like,id:e.id,deletePost:s.deletePost},e.id)}));return(0,g.jsxs)("div",{className:v,children:[(0,g.jsx)("h2",{children:"My posts"}),(0,g.jsx)(w,{onSubmit:function(e){s.addPost(e.newPostText)}}),(0,g.jsx)("div",{children:"New posts"}),(0,g.jsx)("div",{className:b,children:e})]})})),w=(0,h.Z)({form:"addNewPostForm"})((function(s){return(0,g.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,g.jsx)("div",{children:(0,g.jsx)(m.Z,{component:j.Kx,name:"newPostText",validate:[x.C1,I]})}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{children:"Add button"})})]})})),y=N,S=(0,c.$j)((function(s){return{posts:s.profilePage.posts,newPostText:s.profilePage.newPostText}}),{addPost:p.q2,deletePost:p.fR})(y),A={},Z=t(885),M=t(8992),C={bigphoto:"ProfileInfo_bigphoto__-PsYa",descriptionBlock:"ProfileInfo_descriptionBlock__P4MEb",describe:"ProfileInfo_describe__+YkIp",description:"ProfileInfo_description__I9mRD",name:"ProfileInfo_name__zAwXW",aboutMe:"ProfileInfo_aboutMe__6l9Qh",contacts:"ProfileInfo_contacts__ZACrU"},F=t(8811),D=(0,h.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,t=s.profile,i=s.error;return(0,g.jsxs)("form",{onSubmit:e,children:[(0,g.jsx)("div",{children:(0,g.jsx)("button",{children:"save"})}),i&&(0,g.jsx)("div",{className:F.Z.formSummaryError,children:i}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"Full name"}),": ",(0,j.Gr)("Full name","fullName",[],j.II)]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"Looking for a job"}),": ",(0,j.Gr)("","lookingForAJob",[],j.II,{type:"checkbox"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"My professional skills"}),":",(0,j.Gr)("My professional skills","lookingForAJobDescription",[],j.Kx)]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"About me"}),":",(0,j.Gr)("About me","aboutMe",[],j.Kx)]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(s){return(0,g.jsx)("div",{className:C.contact,children:(0,g.jsxs)("b",{children:[s,": ",(0,j.Gr)(s,"contacts."+s,[],j.II)]})},s)}))]})]})})),T=function(s){var e=(0,l.useState)(!1),t=(0,Z.Z)(e,2),i=t[0],o=t[1],r=(0,l.useState)(s.status),n=(0,Z.Z)(r,2),a=n[0],c=n[1];return(0,l.useEffect)((function(){c(s.status)}),[s.status]),(0,g.jsxs)("div",{children:[!i&&(0,g.jsx)("div",{children:(0,g.jsx)("span",{onDoubleClick:function(){o(!0)},children:s.status||"No status"})}),i&&(0,g.jsx)("div",{children:(0,g.jsx)("input",{autoFocus:!0,onChange:function(s){c(s.currentTarget.value)},value:a,onBlur:function(){o(!1),s.updateStatus(a)}})})]})},B=function(s){var e=(0,l.useState)(!1),t=(0,Z.Z)(e,2),i=t[0],o=t[1];if(!s.profile)return(0,g.jsx)(M.Z,{});return(0,g.jsxs)("div",{className:C.profile,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("img",{className:C.bigphoto,alt:"bigphoto",src:s.profile.photos.large?s.profile.photos.large:"https://www.burgessyachts.com/sitefiles/burgess/medialibrary/destinations/corsica-sardinia/beach_panorama_in_maddalena_islands_sardinia_italy_vb770115.jpg?width=2000&height=900&mode=crop&format=jpeg&quality=80"}),(0,g.jsx)(T,{status:s.status,updateStatus:s.updateStatus}),s.isOwner?(0,g.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&s.savePhoto(e.target.files[0])}}):null]}),i?(0,g.jsx)(D,{initialValues:s.profile,profile:s.profile,onSubmit:function(e){s.saveProfile(e).then((function(){o(!1)}))}}):(0,g.jsx)(O,{profile:s.profile,isOwner:s.isOwner,goToEditMode:function(){o(!0)}})]})},O=function(s){return(0,g.jsxs)("div",{className:C.descriptionBlock,children:[s.isOwner&&(0,g.jsx)("div",{children:(0,g.jsx)("button",{onClick:s.goToEditMode,children:" edit"})}),(0,g.jsx)("div",{className:C.smallAva,children:(0,g.jsx)("img",{src:s.profile.photos.small?s.profile.photos.small:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQnD_TgRXHqfB2NP_huv4Wqwb2E7l8XzV0HrWRByrFFJ4KZ4v-6FRAZUeLV_zX9zp0gptA&usqp=CAU",alt:"user"+s.profile.id})}),(0,g.jsxs)("div",{className:C.describe,children:[(0,g.jsxs)("div",{className:C.description,children:[(0,g.jsx)("div",{className:C.name,children:s.profile.fullName}),(0,g.jsx)("div",{className:C.aboutMe,children:s.profile.aboutMe}),s.profile.lookingForAJobDescription]}),(0,g.jsxs)("div",{className:C.contacts,children:[(0,g.jsx)("div",{children:"My contacts:"}),(0,g.jsx)("div",{children:s.profile.contacts.facebook}),(0,g.jsx)("div",{children:s.profile.contacts.github}),(0,g.jsx)("div",{children:s.profile.contacts.vk})]})]})]})},U=function(s){return(0,g.jsxs)("div",{className:A.profile,children:[(0,g.jsx)(B,{isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus,savePhoto:s.savePhoto,saveProfile:s.saveProfile}),(0,g.jsx)(S,{})]})},q=function(s){(0,n.Z)(t,s);var e=(0,a.Z)(t);function t(){return(0,o.Z)(this,t),e.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(this.props.params.userId),this.props.getStatus(this.props.params.userId)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.params.userId!==s.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,g.jsx)(U,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,isAuth:this.props.isAuth,updateStatus:this.props.updateStatus,status:this.props.status,isOwner:!!this.props.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),t}(l.Component),E=(0,u.qC)((0,c.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:p.et,getStatus:p.lR,updateStatus:p.Nf,savePhoto:p.Ju,saveProfile:p.Ii}),f.D)((function(s){var e=(0,d.UO)();return(0,g.jsx)(q,(0,i.Z)((0,i.Z)({},s),{},{params:e,isAuth:s.isAuth}))}))}}]);
//# sourceMappingURL=780.9f438185.chunk.js.map